{"version":3,"sources":["../../../../src/components/CheckoutClient.jsx"],"sourcesContent":["'use client';\r\n\r\nimport React, { useState } from 'react';\r\nimport { useCart } from '../context/CartContext';\r\nimport { useRouter } from 'next/navigation';\r\n// import '../pages/Checkout.css';\r\n\r\nconst CheckoutClient = () => {\r\n    const { cart, getCartTotal } = useCart();\r\n    const router = useRouter();\r\n\r\n    const [formData, setFormData] = useState({\r\n        name: '',\r\n        phone: '',\r\n        email: '',\r\n        address: '',\r\n        city: '',\r\n        province: '',\r\n        paymentMethod: 'cod' // 'cod' or 'advance'\r\n    });\r\n\r\n    const handleInputChange = (e) => {\r\n        const { name, value } = e.target;\r\n        setFormData(prev => ({ ...prev, [name]: value }));\r\n    };\r\n\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        const subtotal = getCartTotal();\r\n        const codFee = formData.paymentMethod === 'cod' ? 50 : 0;\r\n        const total = subtotal + codFee;\r\n\r\n        // Construct WhatsApp Message\r\n        let message = `*Order from kimi.com.pk*\\n\\n`;\r\n        message += `*ORDER SUMMARY*\\n--------------------\\n`;\r\n\r\n        cart.forEach(item => {\r\n            const variantInfo = (item.size || item.color) ? ` (${item.size || ''}/${item.color || ''})` : '';\r\n            message += `[ID: ${item.id}] ${item.name}${variantInfo}\\n`;\r\n            message += `Qty: ${item.quantity} - Price: PKR ${item.price}\\n\\n`;\r\n        });\r\n\r\n        message += `--------------------\\n`;\r\n        message += `Subtotal: PKR ${subtotal}\\n`;\r\n        message += `Shipping: Free\\n`;\r\n        if (formData.paymentMethod === 'cod') {\r\n            message += `COD Fee: PKR ${codFee}\\n`;\r\n        }\r\n        message += `*Total Amount: PKR ${total}*\\n`;\r\n        message += `--------------------\\n`;\r\n        message += `*CUSTOMER DETAILS*\\n`;\r\n        message += `- Name: ${formData.name}\\n`;\r\n        if (formData.phone) message += `- Phone: ${formData.phone}\\n`;\r\n        if (formData.email) message += `- Email: ${formData.email}\\n`;\r\n        message += `- Address: ${formData.address}, ${formData.city}, ${formData.province}\\n`;\r\n        message += `- Payment: ${formData.paymentMethod === 'cod' ? 'Cash on Delivery' : 'Advance Payment'}\\n`;\r\n\r\n        // Encode and open WhatsApp\r\n        const encodedMessage = encodeURIComponent(message);\r\n        // Using the resolved number from the user's short link (https://wa.me/message/YQJES4FOSNDVO1 -> 923329105111)\r\n        // to ensure the ?text parameter is correctly handled.\r\n        window.open(`https://wa.me/923329105111?text=${encodedMessage}`, '_blank');\r\n    };\r\n\r\n    if (cart.length === 0) {\r\n        return (\r\n            <div className=\"checkout-page container empty-cart\">\r\n                <h1 className=\"h2\">Checkout</h1>\r\n                <p>Your cart is empty.</p>\r\n                <button className=\"btn btn-primary\" onClick={() => router.push('/shop')}>Continue Shopping</button>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"checkout-page container\">\r\n            <h1 className=\"h2 checkout-title\">Checkout</h1>\r\n\r\n            <div className=\"checkout-grid\">\r\n                <div className=\"checkout-form-section\">\r\n                    <h2 className=\"h3 mb-4\">Shipping Details</h2>\r\n                    <form id=\"checkout-form\" onSubmit={handleSubmit}>\r\n                        <div className=\"form-group\">\r\n                            <label>Full Name</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"name\"\r\n                                required\r\n                                value={formData.name}\r\n                                onChange={handleInputChange}\r\n                                placeholder=\"John Doe\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-row\">\r\n                            <div className=\"form-group\">\r\n                                <label>Phone <span className=\"text-subtle\">(Optional)</span></label>\r\n                                <input\r\n                                    type=\"tel\"\r\n                                    name=\"phone\"\r\n                                    value={formData.phone}\r\n                                    onChange={handleInputChange}\r\n                                    placeholder=\"+92...\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Email <span className=\"text-subtle\">(Optional)</span></label>\r\n                                <input\r\n                                    type=\"email\"\r\n                                    name=\"email\"\r\n                                    value={formData.email}\r\n                                    onChange={handleInputChange}\r\n                                    placeholder=\"john@example.com\"\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div className=\"form-group\">\r\n                            <label>Address</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"address\"\r\n                                required\r\n                                value={formData.address}\r\n                                onChange={handleInputChange}\r\n                                placeholder=\"Street address\"\r\n                            />\r\n                        </div>\r\n\r\n                        <div className=\"form-row\">\r\n                            <div className=\"form-group\">\r\n                                <label>City</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"city\"\r\n                                    required\r\n                                    value={formData.city}\r\n                                    onChange={handleInputChange}\r\n                                />\r\n                            </div>\r\n                            <div className=\"form-group\">\r\n                                <label>Province</label>\r\n                                <input\r\n                                    type=\"text\"\r\n                                    name=\"province\"\r\n                                    required\r\n                                    value={formData.province}\r\n                                    onChange={handleInputChange}\r\n                                />\r\n                            </div>\r\n                        </div>\r\n\r\n                        <h2 className=\"h3 mb-4 mt-8\">Payment Method</h2>\r\n                        <div className=\"payment-methods\">\r\n                            <label className={`payment-option ${formData.paymentMethod === 'cod' ? 'selected' : ''}`}>\r\n                                <input\r\n                                    type=\"radio\"\r\n                                    name=\"paymentMethod\"\r\n                                    value=\"cod\"\r\n                                    checked={formData.paymentMethod === 'cod'}\r\n                                    onChange={handleInputChange}\r\n                                />\r\n                                <div className=\"payment-details\">\r\n                                    <span className=\"payment-title\">Cash on Delivery</span>\r\n                                    <span className=\"payment-desc\">Pay when you receive your order. +PKR 50 Fee</span>\r\n                                </div>\r\n                            </label>\r\n\r\n                            <label className={`payment-option ${formData.paymentMethod === 'advance' ? 'selected' : ''}`}>\r\n                                <input\r\n                                    type=\"radio\"\r\n                                    name=\"paymentMethod\"\r\n                                    value=\"advance\"\r\n                                    checked={formData.paymentMethod === 'advance'}\r\n                                    onChange={handleInputChange}\r\n                                />\r\n                                <div className=\"payment-details\">\r\n                                    <span className=\"payment-title\">Advance Payment</span>\r\n                                    <span className=\"payment-desc\">Bank Transfer / JazzCash / EasyPaisa</span>\r\n                                </div>\r\n                            </label>\r\n                        </div>\r\n                    </form>\r\n                </div>\r\n\r\n                <div className=\"checkout-summary-section\">\r\n                    <div className=\"order-summary-card\">\r\n                        <h3 className=\"h3 mb-4\">Order Summary</h3>\r\n                        <div className=\"summary-items\">\r\n                            {cart.map((item, index) => (\r\n                                <div key={`${item.id}-${index}`} className=\"summary-item\">\r\n                                    <div className=\"summary-item-left\">\r\n                                        <img src={item.image} alt={item.name} className=\"summary-item-image\" />\r\n                                        <div className=\"summary-item-info\">\r\n                                            <span className=\"summary-item-name\">{item.name}</span>\r\n                                            <span className=\"summary-item-variant\">{item.color} / {item.size} x {item.quantity}</span>\r\n                                        </div>\r\n                                    </div>\r\n                                    <span className=\"summary-item-price\">PKR {item.price * item.quantity}</span>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n\r\n                        <div className=\"summary-totals\">\r\n                            <div className=\"summary-row\">\r\n                                <span>Subtotal</span>\r\n                                <span>PKR {getCartTotal()}</span>\r\n                            </div>\r\n                            <div className=\"summary-row\">\r\n                                <span>Shipping</span>\r\n                                <span>Free</span>\r\n                            </div>\r\n                            {formData.paymentMethod === 'cod' && (\r\n                                <div className=\"summary-row\">\r\n                                    <span>COD Fee</span>\r\n                                    <span>PKR 50</span>\r\n                                </div>\r\n                            )}\r\n                            <div className=\"summary-row total\">\r\n                                <span>Total</span>\r\n                                <span>PKR {getCartTotal() + (formData.paymentMethod === 'cod' ? 50 : 0)}</span>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button type=\"submit\" form=\"checkout-form\" className=\"btn btn-primary btn-full mt-4\">\r\n                            Place Order on WhatsApp\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CheckoutClient;\r\n"],"names":[],"mappings":"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"}